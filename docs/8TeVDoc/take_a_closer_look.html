<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-8TeVDoc/take_a_closer_look">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Take a closer look | ATLAS Open Data Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://soap2g.github.io/atlasopendata-website-v2/img/atlas_logo.png"><meta data-rh="true" name="twitter:image" content="https://soap2g.github.io/atlasopendata-website-v2/img/atlas_logo.png"><meta data-rh="true" property="og:url" content="https://soap2g.github.io/atlasopendata-website-v2/docs/8TeVDoc/take_a_closer_look"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Take a closer look | ATLAS Open Data Documentation"><meta data-rh="true" name="description" content="The first thing to say is that you cannot break it !"><meta data-rh="true" property="og:description" content="The first thing to say is that you cannot break it !"><link data-rh="true" rel="icon" href="/atlasopendata-website-v2/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://soap2g.github.io/atlasopendata-website-v2/docs/8TeVDoc/take_a_closer_look"><link data-rh="true" rel="alternate" href="https://soap2g.github.io/atlasopendata-website-v2/docs/8TeVDoc/take_a_closer_look" hreflang="en"><link data-rh="true" rel="alternate" href="https://soap2g.github.io/atlasopendata-website-v2/docs/8TeVDoc/take_a_closer_look" hreflang="x-default"><link rel="stylesheet" href="/atlasopendata-website-v2/assets/css/styles.87a603b9.css">
<link rel="preload" href="/atlasopendata-website-v2/assets/js/runtime~main.77636e77.js" as="script">
<link rel="preload" href="/atlasopendata-website-v2/assets/js/main.8318d0f3.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/atlasopendata-website-v2/"><div class="navbar__logo"><img src="/atlasopendata-website-v2/img/atlas_logo.png" alt="ATLAS Open Data Documentation" class="themedImage_ToTc themedImage--light_HNdA"><img src="/atlasopendata-website-v2/img/atlas_logo.png" alt="ATLAS Open Data Documentation" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">ATLAS Open Data Documentation</b></a><a class="navbar__item navbar__link" href="/atlasopendata-website-v2/docs/atlas/lhc">Introduction</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/atlasopendata-website-v2/docs/8TeVDoc/overview">8 TeV Open Datasets</a><a class="navbar__item navbar__link" href="/atlasopendata-website-v2/docs/datasets/intro">13 TeV Open Datasets</a><a class="navbar__item navbar__link" href="/atlasopendata-website-v2/docs/physics/intro">Physics analysis examples</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/atlas-outreach-data-tools" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/atlasopendata-website-v2/docs/8TeVDoc/overview">8 TeV Open Datasets</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/atlasopendata-website-v2/docs/8TeVDoc/overview">ATLAS open data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/atlasopendata-website-v2/docs/8TeVDoc/atlas_events">ATLAS events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/atlasopendata-website-v2/docs/8TeVDoc/data_and_simulated_data">Data and simulated data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/atlasopendata-website-v2/docs/8TeVDoc/atlas_higgs_animations">Histogram animation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/atlasopendata-website-v2/docs/8TeVDoc/analyses">Analyses</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/atlasopendata-website-v2/docs/8TeVDoc/gettingstarted">Setup Your Environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/atlasopendata-website-v2/docs/8TeVDoc/take_a_look_at_the_data">Take a look at the data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/atlasopendata-website-v2/docs/8TeVDoc/take_a_closer_look">Take a closer look</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/atlasopendata-website-v2/docs/8TeVDoc/histograms">Plots explained</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/atlasopendata-website-v2/docs/8TeVDoc/more_histograms">More plots</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/atlasopendata-website-v2/docs/8TeVDoc/create-a-new-plot">Create a new plot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/atlasopendata-website-v2/docs/8TeVDoc/event_selection">Event selection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/atlasopendata-website-v2/docs/8TeVDoc/variable_names">Variable names</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/atlasopendata-website-v2/docs/8TeVDoc/glossary">Glossary</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/atlasopendata-website-v2/docs/8TeVDoc/simulated_data_details">Dataset Details</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/atlasopendata-website-v2/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">8 TeV Open Datasets</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Take a closer look</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Take a closer look</h1><p>The first thing to say is that <strong>you cannot break it !</strong></p><p>Change the code, do whatever you like.</p><p>You have a local copy.  If for some reason it all goes horribly wrong, just delete what you have and start again.</p><p>No-one will know.  No-one will care.</p><p>It is much better to work out things for yourself.  Go on, make a change to the code and see if it does what you intend.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-files">Configuration files<a href="#configuration-files" class="hash-link" aria-label="Direct link to Configuration files" title="Direct link to Configuration files">​</a></h2><p>The Configurations folder contains the configuration files.  The configuration files contain information about what analysis should run and how the results should be plotted.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-run-an-analysis"><strong>Step 1: Run an Analysis</strong><a href="#step-1-run-an-analysis" class="hash-link" aria-label="Direct link to step-1-run-an-analysis" title="Direct link to step-1-run-an-analysis">​</a></h3><p>Now let&#x27;s take a closer look at what is going on when you run the analysis.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python RunScript.py -a TTbarAnalysis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The Configuration.py file specifies how an analysis should behave.  You can look at the code directly here: <a href="https://github.com/atlas-outreach-data-tools/atlas-outreach-data-tools-framework/blob/master/Configurations/Configuration.py" target="_blank" rel="noopener noreferrer">Configuration.py</a></p><p>The preconfigured analysis is a top pair analysis called TTbarAnalaysis.  This can be changed later if you wish to look at another analysis, or just use the -a option such as </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python RunScript -a WAnalysis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The first portion of the configuration file defines the <strong>Job</strong> and looks like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Job = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     &quot;Batch&quot;           : True,              (switches progress bar on and off, forced to be off when running in parallel mode)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     &quot;Analysis&quot;        : &quot;TTbarAnalysis&quot;,   (names the default analysis to be executed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     &quot;Fraction&quot;        : 1,                 (determines the fraction of events per file to be analysed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     &quot;MaxEvents&quot;       : 1234567890,        (determines the maximum number of events per file to be analysed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     &quot;OutputDirectory&quot; : &quot;results/&quot;         (specifies the directory where the output root files should be saved)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The default analysis is TTbarAnalysis, so if an analysis is not defined with the -a option, TTbarAnalysis will run.</p><p>By default, the analysis will run over all events in a file.  If you want to run just half the events, then change the fraction to 0.5</p><p>The results of running RunScript.py will be written to the OutputDirectory, which is set to be called results.</p><p>The second portion of the configuration file specifies which <strong>Processes</strong> to include. The locations of the individual files that are to be used for the different processes are defined:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Processes = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Diboson processes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;WW&quot;                    : &quot;Input/MC/mc_105985.WW.root&quot;,  (single file)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;data_Egamma&quot;           : &quot;Input/Data/DataEgamma*.root&quot;, (potentially many files)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Whilst the analysis is running you will see the analysis name <!-- -->(<!-- -->circled in orange below<!-- -->)<!-- --> and the process you are running over <!-- -->(<!-- -->circled in blue below<!-- -->)<!-- -->.</p><p><img loading="lazy" src="/atlasopendata-website-v2/assets/images/TTbar-2edd729309d9f144e2866d8328a2348d.png" width="1068" height="233" class="img_ev3q"></p><p>The names chosen for the processes are important as they are the keys used in the infofile.py to determine the necessary scaling factors for correct plotting.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-plot-the-results"><strong>Step 2: Plot the results</strong><a href="#step-2-plot-the-results" class="hash-link" aria-label="Direct link to step-2-plot-the-results" title="Direct link to step-2-plot-the-results">​</a></h3><p>Now let&#x27;s take a closer look at what is going on when you plot the results of your analysis.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python PlotResults.py Configurations/PlotConf_TTbarAnalysis.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The plotting configuration file allows you to steer the plotting process. Each analysis has its own plotting configuration file to accommodate changes in background composition or histograms required.</p><p>Look at the code directly here: <a href="https://github.com/atlas-outreach-data-tools/atlas-outreach-data-tools-framework/blob/master/Configurations/PlotConf_TTbarAnalysis.py" target="_blank" rel="noopener noreferrer">PlotConf<!-- -->_<!-- -->TTbarAnalysis.py</a></p><p>General information for plotting include the <strong>Luminosity</strong> and <strong>InputDirectory</strong> located at the top of the file:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">config = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Luminosity&quot;     : 1000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;InputDirectory&quot; : &quot;results&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you remember, the output directory of step 1 was results.  So the input directory for step 2 must have the same name.</p><p>The names of the histograms to be drawn can be specified like so:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Histograms&quot; : {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;WtMass&quot;          : {},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;etmiss&quot;          : {rebin : 4, log_y : True},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;lep_phi&quot;         : {&quot;y_margin&quot; : 0.6},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that it is possible to supply additional information via a dictionary-like structure to further detail the histogram options. Currently available options are:</p><ul><li><strong>rebin: integer      </strong>used to merge X bins into one.  Useful in low statistics situation.</li><li><strong>log<!-- -->_<!-- -->y : bool</strong>          if True is set as the bool the main depiction will be drawn in logarithmic scale.</li><li><strong>y<!-- -->_<!-- -->margin : float</strong>   sets the fraction of whitespace above the largest contribution in the plot. Default value is 0.1</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="definition-of-depictions-and-paintables">Definition of Depictions and Paintables.<a href="#definition-of-depictions-and-paintables" class="hash-link" aria-label="Direct link to Definition of Depictions and Paintables." title="Direct link to Definition of Depictions and Paintables.">​</a></h2><p>A <strong>depiction</strong> is a way of visualising information. Available depictions include simple plots, ratios and agreement plots.</p><p>Each plot consists of several depictions of paintables.<br>
<!-- -->A <strong>paintable</strong> is a histogram or stack plot, with added information such as colours and which physics processes to be included.</p><p>A simple definition of paintables may look like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;Paintables&#x27;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Stack&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Order&quot;     : [&quot;Diboson&quot;, &quot;DrellYan&quot;, &quot;W&quot;, &quot;Z&quot;, &quot;stop&quot;, &quot;ttbar&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Processes&quot; : {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;Diboson&quot; : {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;Color&quot;         : &quot;#fa7921&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;Contributions&quot; : [&quot;WW&quot;, &quot;WZ&quot;, &quot;ZZ&quot;]},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;DrellYan&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;Color&quot;         : &quot;#5bc0eb&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;Contributions&quot; : [&quot;DYeeM08to15&quot;, &quot;DYeeM15to40&quot;, &quot;DYmumuM08to15&quot;, &quot;DYmumuM15to40&quot;, &quot;DYtautauM08to15&quot;, &quot;DYtautauM15to40&quot;]},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;Higgs&#x27;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;Color&#x27;: &#x27;#0000ff&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;Contributions&#x27;: [&#x27;ggH125_WW2lep&#x27;]},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;data&quot; : {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Contributions&quot;: [&quot;data_Egamma&quot;, &quot;data_Muons&quot;]}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Stack</strong> and <strong>data</strong> are specialised names for paintables. This ensures that only one stack of simulated Monte Carlo data and one data representation are present in the final plot.</p><p>A <strong>Stack</strong> shows the different processes specified in <strong>Order.  </strong>The processes are stacked upon each other to give an idea of the composition of the simulated Monte Carlo data.  Notice that the processes specified in the code above (Diboson, DrellYan, W, Z, stop, ttbar) appear in the plot legend below.</p><p>The individual processes are defined under <strong>Processes</strong>. Each process has a certain colour (using hex color codes) and a list of <strong>Contributions</strong>. These contributing processes are defined in both <a href="https://github.com/atlas-outreach-data-tools/atlas-outreach-data-tools-framework/blob/master/Configurations/Configuration.py" target="_blank" rel="noopener noreferrer">Configuration.py</a> and <a href="https://github.com/atlas-outreach-data-tools/atlas-outreach-data-tools-framework/blob/master/Plotting/infofile.py" target="_blank" rel="noopener noreferrer">infofile.py</a>.</p><p><strong>data </strong>is a special paintable. Since the data does not need to be scaled there is no need for it to be defined in <a href="https://github.com/atlas-outreach-data-tools/atlas-outreach-data-tools-framework/blob/master/Plotting/infofile.py" target="_blank" rel="noopener noreferrer">infofile.py</a>. However, it still has to be included in <a href="https://github.com/atlas-outreach-data-tools/atlas-outreach-data-tools-framework/blob/master/Configurations/Configuration.py" target="_blank" rel="noopener noreferrer">Configuration.py</a>.</p><p>Other paintables not defined in the stack (e.g. <strong>Higgs</strong> in the above example) are considered as <strong>overlays</strong>. Overlays are used to show possible signals or to compare shapes between multiple overlays (see also <a href="https://github.com/atlas-outreach-data-tools/atlas-outreach-data-tools-framework/blob/master/Configurations/PlotConf_ZPrimeAnalysis.py" target="_blank" rel="noopener noreferrer">PlotConf<!-- -->_<!-- -->ZPrimeAnalysis.py</a> for the ZPrime Analysis).</p><p>There are currently three types of depictions available:</p><ul><li><strong>Main</strong>: simply show the paintables in a simple plot fashion.</li><li><strong>Agreement</strong>: typically used to evaluate the agreement between two paintables (usually the stack of simulated data and the real data).</li><li><strong>Ratio</strong>: show the ratio of the first paintable w.r.t. the second paintable (e.g. <strong>Data/MC</strong> to show how well the simulated data and real data agree).  </li></ul><p>The order of the depictions is determined in line 2 of the code example above.</p><p><img loading="lazy" src="/atlasopendata-website-v2/assets/images/lepPT-f8d47be7545932c809a7d523ebe3c85f.png" width="916" height="894" class="img_ev3q"></p><p>Here we can see an agreement plot above and ratio plot below for lepton <!-- -->(<!-- -->p_T<!-- -->)<!-- -->.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/atlasopendata-website-v2/docs/8TeVDoc/take_a_look_at_the_data"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Take a look at the data</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/atlasopendata-website-v2/docs/8TeVDoc/histograms"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Plots explained</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#configuration-files" class="table-of-contents__link toc-highlight">Configuration files</a><ul><li><a href="#step-1-run-an-analysis" class="table-of-contents__link toc-highlight"><strong>Step 1: Run an Analysis</strong></a></li><li><a href="#step-2-plot-the-results" class="table-of-contents__link toc-highlight"><strong>Step 2: Plot the results</strong></a></li></ul></li><li><a href="#definition-of-depictions-and-paintables" class="table-of-contents__link toc-highlight">Definition of Depictions and Paintables.</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/atlasopendata-website-v2/docs">Something</a></li><li class="footer__item"><a class="footer__link-item" href="/atlasopendata-website-v2/docs">Something else</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://atlas.cern/" target="_blank" rel="noopener noreferrer" class="footer__link-item">The ATLAS website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/ATLASexperiment" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.instagram.com/atlasexperiment" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instagram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/atlas-outreach-data-tools" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gitlab.cern.ch/atlas-outreach-data-tools" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitLab<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/c/atlasexperiment" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 ATLAS Collaboration. Built with Docusaurus.</div></div></div></footer></div>
<script src="/atlasopendata-website-v2/assets/js/runtime~main.77636e77.js"></script>
<script src="/atlasopendata-website-v2/assets/js/main.8318d0f3.js"></script>
</body>
</html>